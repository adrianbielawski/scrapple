(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{276:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),l=a(86),c=a(10),u=(a(91),a(23)),s=function(e){var t=Object(l.a)().t,a=function(){var t="";switch(e.place){case 1:t="1st";break;case 2:t="2nd";break;case 3:t="3rd";break;default:return}return r.a.createElement("img",{src:"../../src/assets/img/".concat(t,"-place.png")})}(),n=e.player;return r.a.createElement("li",null,r.a.createElement(u.a,null,r.a.createElement("div",{className:"player-name"},r.a.createElement("div",{className:"place"},r.a.createElement("p",null,t(e.placeText)," ",t("place")),a),r.a.createElement("p",null,n.playerName)),r.a.createElement("p",{className:"player-result"},t("Total"),": ",n.currentScore," ",t("Best score"),": ",n.bestScore)))},m=a(43),o=a(42),p=function(e){var t=Object(l.a)().t;return r.a.createElement(o.a,{className:"confirmation"},r.a.createElement("button",{onClick:function(){e.playAgain()}},t("Play again")),r.a.createElement("button",{onClick:function(){e.playAgainSettings()}},t("Play again with new settings")),r.a.createElement("button",{onClick:function(){e.exitGame()}},t("Exit")))},g=a(15),y=function(e){var t=Object(l.a)().t,a="Please wait until settings will be changed";return"playAgain"===e.exitOption&&(a="Please wait until game started"),r.a.createElement(o.a,{className:"confirmation"},r.a.createElement("h2",null,t("Game continues!")),r.a.createElement("p",{className:"message"},t(a)),r.a.createElement(g.a,null))},d=a(4),f=void 0;function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return a}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return w(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=Object(i.b)((function(e){return{admin:e.app.admin,gameId:e.app.gameId}}),(function(e){return{setAdmin:function(t){e(Object(d.d)(t))},setGameId:function(t){e(Object(d.f)(t))}}}))((function(e){var t=Object(l.a)().t,a=h(Object(n.useState)(!1),2),i=a[0],u=a[1],o=h(Object(n.useState)(null),2),d=o[0],x=o[1],w=h(Object(n.useState)(null),2),v=w[0],E=w[1],S=h(Object(n.useState)(!0),2),A=S[0],O=S[1];Object(n.useEffect)((function(){var t=sessionStorage.getItem("admin"),a=!!t&&JSON.parse(t);e.setAdmin(a);var n=e.gameId||j();c.a.collection("games").doc(n).get().then((function(e){var t=e.data();E(t.players),O(!1)})).catch((function(){f.alert("alert","Something went wrong, please check your internet connection and try again")}));var r=c.a.collection("games").doc(n).onSnapshot((function(t){var a=t.data();a.exitOption!==d&&(x(a.exitOption),"playAgain"===a.exitOption&&e.playAgain()),a.joinedPlayers.length>0&&"playAgainWithSettings"===a.exitOption&&e.playAgainSettings()}));return function(){r()}}),[]);var j=function(){var t=window.location.pathname.split("/")[2];return e.setGameId(t),t};return r.a.createElement("div",null,A?r.a.createElement(g.a,null):r.a.createElement("div",{className:"game-summary"},"playAgainWithSettings"===d||"playAgain"===d&&e.timer?r.a.createElement(y,{exitOption:d}):null,i?r.a.createElement(p,{playAgain:e.playAgain,playAgainSettings:e.playAgainSettings,exitGame:e.exitGame}):null,r.a.createElement(m.a,null),r.a.createElement("h2",null,t("Game results")),r.a.createElement("ul",{className:"results"},function(){var e=b(v);e.sort((function(e,t){return t.currentScore-e.currentScore}));var t="",a="",n="";return e.map((function(e,i){var l=i+1,c=["1st","2nd","3rd","4th"][i];return e.currentScore===t&&(c=a,l=n),t=e.currentScore,a=c,n=l,r.a.createElement(s,{player:e,placeText:c,place:l,key:i})}))}()),e.admin?r.a.createElement("button",{onClick:function(){u(!0)}},t("Exit")):null,"exitGame"===d?r.a.createElement("button",{onClick:e.exitGame},t("Exit")):null))}))},91:function(e,t,a){var n=a(28),r=a(92);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},92:function(e,t,a){(t=a(29)(!1)).push([e.i,".game-summary h2{margin-bottom:20px}.game-summary button{margin:10px auto;display:block}.game-summary .card{width:100%}.game-summary .card button{margin:30px auto;height:auto;max-width:95%}.game-summary .results{text-align:center;font-size:1.3em;padding:0 5px;display:flex;flex-direction:column;align-items:center}.game-summary .results .card{justify-content:unset}.game-summary .results li{margin:5px 0;width:100%;max-width:400px}.game-summary .results li.sub{display:inline-flex;align-items:center}.game-summary .results li.sub .card{flex-direction:row;justify-content:unset}.game-summary .results li.sub .player-name{padding-left:5px;width:50%;text-align:end}.game-summary .results input{width:30%;max-width:50px;margin-left:10px}.game-summary .results input::-webkit-time-picker-indicator,.game-summary .results input::-webkit-clear-button,.game-summary .results input::-webkit-inner-spin-button{display:none;-webkit-appearance:none}.game-summary .results .player-name{font-size:1.4em;margin:5px 0;text-align:center;color:#626262}.game-summary .results .player-name .place{display:inline-flex;justify-content:center;align-items:center;padding:3px 0}.game-summary .results .player-name .place img{margin-left:10px}.game-summary .results span{font-weight:600}.game-summary .player-result{width:100%}\n",""]),e.exports=t}}]);